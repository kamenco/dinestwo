{% extends "base.html" %}

{% block content %}
<div class="container">
  <div class="row justify-content-center">
      <div class="col-sm-8" id="cont_backg">
      <h1 class="text">{{ page_title }}</h1>
      <p class="text_thin">Contact page<br>
        CONTACT PAGE
      </p>
      <form id="signup-form">
        <h2><i class="fa-solid fa-masks-theater"></i> PLEASE MAKE RESERVATION!</h2>
        <label for="first_name">Name:</label>
        <input type="text" id="first_name" class="text-input" name="first_name" required><br>
        <label for="phone">Phone number: xxx-xx-xxx</label>
        <input type="tel" id="phone" class="text-input" name="phone" pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}" ><br>
        <label for="email_address">Email address:</label>
        <input type="email" id="email_address" class="text-input" name="email_address" required><br>
        <label for="textarea">Some text...</label>
        <textarea id="textarea" class="text-input" name="textarea" rows="4" required></textarea><br>
        <button type="submit" class="join-button">Make reservation!</button>
      </form>
      <hr>
      <h3><!--Test--></h3>
      <p id="map">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2907.898876363383!2d27.920999799999997!3d43.21161029999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40a4540c568d0f03%3A0xe63faf9275c6b20d!2z0JLQsNGA0L3QsCDQptC10L3RgtGK0YDQn9GA0LjQvNC-0YDRgdC60LgsINGD0LsuIOKAntCY0LLQsNC9INCQ0LrRgdCw0LrQvtCy4oCcIDMxLCA5MDAyINCS0LDRgNC90LAsINCR0YrQu9Cz0LDRgNC40Y8!5e0!3m2!1sbg!2sie!4v1715193808167!5m2!1sbg!2sie" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </p>
    </div>
  </div>
</div>

<!-- Include the EmailJS SDK -->
<script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
<script type="text/javascript">
  (function(){
    emailjs.init("Ba5KmHAbZXdUpn1hJ");  // Replace with your EmailJS user ID
  })();
  
  document.getElementById('signup-form').addEventListener('submit', function(event) {
    event.preventDefault();
    
    // These IDs from the previous steps
    emailjs.sendForm('service_7ulyu8q', 'kamen', this)
      .then(function() {
          alert('Email sent successfully!');
      }, function(error) {
          alert('Failed to send email: ' + JSON.stringify(error));
      });
  });
</script>
{% endblock %}